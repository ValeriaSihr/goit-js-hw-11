{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import simpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function createMarkup(array) {\n  const createGallery = array\n    .map(\n      ({\n        views,\n        comments,\n        downloads,\n        likes,\n        webformatURL,\n        tags,\n        largeImageURL,\n      }) => {\n        return `<li>\n      <div class=\"gallery\">\n        <a href=\"${largeImageURL}\">\n          <img class=\"img\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" height=\"200\">\n          <ul class=\"list\">\n            <li class=\"info-list\"><span class=\"likes\">Likes</span><span class=\"value\">${likes}</span></li>\n            <li class=\"info-list\"><span class=\"views\">Views</span><span class=\"value\">${views}</span></li>\n            <li class=\"info-list\"><span class=\"comments\">Comments</span><span class=\"value\">${comments}</span></li>\n            <li class=\"info-list\"><span class=\"downloads\">Downloads</span><span class=\"value\">${downloads}</span></li>\n          </ul>\n        </a>\n      </div>\n    </li>`;\n      }\n    )\n    .join('');\n\n  const objectList = document.querySelector('.object-list');\n  objectList.innerHTML = createGallery;\n\n  const gallery = new simpleLightbox('gallery a', {\n    caption: true,\n    captionsData: 'alt',\n    captionDelay: 200,\n    showCounter: false,\n  });\n  return createGallery;\n}\n","const BASE_URL = 'https://pixabay.com/api/';\nconst KEY = '43231904-ed1d7987ff22f73c70c274b13';\n\nexport function objectSearch(searchImage = '') {\n  const params = new URLSearchParams({\n    key: KEY,\n    q: searchImage,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}/?${params}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","import * as renderFunction from './js/render-functions.js';\nimport * as pixabayApi from './js/pixabay-api.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst searchForm = document.querySelector('.search-form');\nconst search = document.querySelector('input');\nconst objectList = document.querySelector('.object-list');\nconst loader = document.querySelector('.loader-box');\n\nsearchForm.addEventListener('submit', onSubmit);\n\nfunction onSubmit(event) {\n  event.preventDefault();\n\n  if (!search.value) {\n    return iziToast.error({\n      timeout: 2000,\n      title: 'Error!',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      backgroundColor: 'red',\n      closeOnClick: true,\n      position: 'topCenter',\n    });\n  }\n\n  const searchValue = search.value;\n\n  loader.style.display = 'flex';\n\n  pixabayApi\n    .objectSearch(searchValue)\n    .then(data => {\n      objectList.innerHTML = renderFunction.createMarkup(data.hits);\n      searchForm.reset();\n\n      loader.style.display = 'none';\n    })\n    .catch(error => {\n      console.log(error);\n      loader.style.display = 'none';\n    });\n}\n"],"names":["createMarkup","array","createGallery","views","comments","downloads","likes","webformatURL","tags","largeImageURL","objectList","simpleLightbox","BASE_URL","KEY","objectSearch","searchImage","params","response","searchForm","search","loader","onSubmit","event","iziToast","searchValue","pixabayApi\n    .objectSearch","data","renderFunction.createMarkup","error"],"mappings":"6vBAGO,SAASA,EAAaC,EAAO,CAClC,MAAMC,EAAgBD,EACnB,IACC,CAAC,CACC,MAAAE,EACA,SAAAC,EACA,UAAAC,EACA,MAAAC,EACA,aAAAC,EACA,KAAAC,EACA,cAAAC,CACR,IACe;AAAA;AAAA,mBAEIA,CAAa;AAAA,kCACEF,CAAY,UAAUC,CAAI;AAAA;AAAA,wFAE4BF,CAAK;AAAA,wFACLH,CAAK;AAAA,8FACCC,CAAQ;AAAA,gGACNC,CAAS;AAAA;AAAA;AAAA;AAAA,UAMpG,EACA,KAAK,EAAE,EAEJK,EAAa,SAAS,cAAc,cAAc,EACxD,OAAAA,EAAW,UAAYR,EAEP,IAAIS,EAAe,YAAa,CAC9C,QAAS,GACT,aAAc,MACd,aAAc,IACd,YAAa,EACjB,CAAG,EACMT,CACT,CC1CA,MAAMU,EAAW,2BACXC,EAAM,qCAEL,SAASC,EAAaC,EAAc,GAAI,CAC7C,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGH,CAAQ,KAAKI,CAAM,EAAE,EAAE,KAAKC,GAAY,CACtD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCbA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAS,SAAS,cAAc,OAAO,EACvCT,EAAa,SAAS,cAAc,cAAc,EAClDU,EAAS,SAAS,cAAc,aAAa,EAEnDF,EAAW,iBAAiB,SAAUG,CAAQ,EAE9C,SAASA,EAASC,EAAO,CAGvB,GAFAA,EAAM,eAAc,EAEhB,CAACH,EAAO,MACV,OAAOI,EAAS,MAAM,CACpB,QAAS,IACT,MAAO,SACP,QACE,2EACF,gBAAiB,MACjB,aAAc,GACd,SAAU,WAChB,CAAK,EAGH,MAAMC,EAAcL,EAAO,MAE3BC,EAAO,MAAM,QAAU,OAEvBK,EACgBD,CAAW,EACxB,KAAKE,GAAQ,CACZhB,EAAW,UAAYiB,EAA4BD,EAAK,IAAI,EAC5DR,EAAW,MAAK,EAEhBE,EAAO,MAAM,QAAU,MAC7B,CAAK,EACA,MAAMQ,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBR,EAAO,MAAM,QAAU,MAC7B,CAAK,CACL"}